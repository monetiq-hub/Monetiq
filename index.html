<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Monetiq - Dashboard</title>
  <link rel="stylesheet" href="style.css" />
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600;700&display=swap" rel="stylesheet" />
</head>
<body>
  <header class="title-header">
    <h1 class="main-title">Monetiq</h1>
    <span id="user-title" class="user-title glow">Rookie Saver</span>
  </header>

  <div class="topbar">
    <div class="topbar-actions">
      <button id="theme-toggle" class="btn btn-ghost" aria-label="Toggle theme">ðŸŒ™</button>
      <button id="logout-btn" class="btn btn-danger">Logout</button>
    </div>
  </div>

  <main class="page">
    <section class="section">
      <div class="balances-row">
        <div class="card balance-card">
          <div class="card-head"><h2>Current Balance</h2></div>
          <div class="card-body">
            <div class="balance-display">
              <span class="balance-amount" id="current-balance">AED 0.00</span>
            </div>
            <button id="add-income-btn" class="btn full">Add Income</button>
          </div>
        </div>

        <div class="card balance-card">
          <div class="card-head"><h2>Savings Balance</h2></div>
          <div class="card-body">
            <div class="balance-display">
              <span class="balance-amount" id="savings-balance">AED 0.00</span>
            </div>
            <button id="transfer-to-savings-btn" class="btn full">Transfer</button>
          </div>
        </div>

        <div class="card balance-card">
          <div class="card-head"><h2>Savings Goal</h2></div>
          <div class="card-body">
            <div class="progress">
              <div id="savings-progress-bar" style="width: 0%"></div>
            </div>
            <div class="goal-info">
              <span id="savings-goal-label">0% Achieved</span>
              <span id="savings-goal-progress-label" class="goal-amount">0 / 0 AED</span>
            </div>
            <button id="set-saving-goal-btn" class="btn full">Set Goal</button>
          </div>
        </div>

        <div class="card balance-card">
          <div class="card-head"><h2>Quick Actions</h2></div>
          <div class="card-body">
            <button id="add-expense-btn" class="btn full btn-danger">Add Expense</button>
            <button id="transaction-history-btn" class="btn full btn-outline">History</button>
            <button id="set-weekly-limit-btn" class="btn full btn-secondary">Set Weekly Limit</button>
          </div>
        </div>
      </div>
    </section>

    <section class="section alt">
      <div class="card">
        <div class="card-head"><h2>Weekly Challenge</h2></div>
        <div class="card-body">
          <p>Limit: <strong id="weekly-limit-label">Not Set</strong></p>
          <p>Spent: <strong id="weekly-spending-label">AED 0.00</strong></p>
        </div>
      </div>
    </section>

    <section class="section">
      <div class="stats-row">
        <div class="card stats-card">
          <div class="card-head"><h2>Level & XP</h2></div>
          <div class="card-body">
            <p>Level: <strong id="user-level">1</strong></p>
            <p class="muted">Title: <span id="user-title-dup" class="muted small">Rookie Saver</span></p>
            <div class="progress large">
              <div id="level-progress-bar" style="width: 0%"></div>
            </div>
            <p id="xp-label" class="muted">0 / 10 XP</p>
          </div>
        </div>

        <div class="card stats-card">
          <div class="card-head"><h2>Badges</h2></div>
          <div class="card-body">
            <div id="badges-list" class="badges"></div>
          </div>
        </div>
      </div>
    </section>
    <br>
  </main>

  <div id="modal-bg" class="modal-bg" aria-hidden="true">
    <div id="modal-content" class="modal-content" role="dialog" aria-modal="true" aria-labelledby="modal-title"></div>
  </div>

  <script src="app.js"></script>

  <script>
    (function () {
      const toggleBtn = document.getElementById("theme-toggle");
      const stored = localStorage.getItem("monetiq_theme");
      if (stored === "dark") document.body.classList.add("dark");
      else if (stored === "light") document.body.classList.remove("dark");
      const updateIcon = () => {
        toggleBtn.textContent = document.body.classList.contains("dark") ? "â˜€ï¸" : "ðŸŒ™";
      };
      updateIcon();
      toggleBtn.addEventListener("click", () => {
        document.body.classList.toggle("dark");
        const isDark = document.body.classList.contains("dark");
        localStorage.setItem("monetiq_theme", isDark ? "dark" : "light");
        updateIcon();
      });
    })();
  </script>
</body>
</html>
